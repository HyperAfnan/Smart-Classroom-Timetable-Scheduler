import{r as s,j as U,a as gt,b as Jt,c as Zt,u as xt,L as be,s as Qt,d as en,e as tn,O as Be}from"./index-DtPpba_i.js";import{u as Je,c as nn,a as q}from"./utils-Dm1jtZiZ.js";import{B as rn}from"./button-BcLH1cul.js";import{c as bt,A as on,a as ie,D as an,C as sn,R as ln,b as cn}from"./index-DYn5w9v_.js";import{u as ot,c as un}from"./index-FoInwvDn.js";import{P as dn}from"./index-Bn_Sdkge.js";import{c as Re}from"./createLucideIcon-CDU2MX3y.js";import{C as fn}from"./clock-BRigHFst.js";import{U as pn}from"./users-C8fy_FBV.js";import{B as mn}from"./book-open-C1Un5cnT.js";import{M as hn}from"./map-pin-iUrV1o1k.js";import{G as gn}from"./graduation-cap-ASARLn3X.js";import{C as yt}from"./calendar-xH3_TKQC.js";import{B as xn}from"./bell-vagSHsYj.js";import"./index-CT9tpGOu.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],yn=Re("layout-grid",bn);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Me=Re("layout-dashboard",vn);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wn=Re("log-out",En);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Rn=Re("panel-left",Sn);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ee=Re("settings",zn),Ue=768;function Cn(){const[e,t]=s.useState(void 0);return s.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Ue-1}px)`),r=()=>{t(window.innerWidth<Ue)};return n.addEventListener("change",r),t(window.innerWidth<Ue),()=>n.removeEventListener("change",r)},[]),!!e}function Nn(e,t){return s.useReducer((n,r)=>t[n][r]??n,e)}var vt=e=>{const{present:t,children:n}=e,r=Pn(t),a=typeof n=="function"?n({present:r.isPresent}):s.Children.only(n),o=Je(r.ref,In(a));return typeof n=="function"||r.isPresent?s.cloneElement(a,{ref:o}):null};vt.displayName="Presence";function Pn(e){const[t,n]=s.useState(),r=s.useRef(null),a=s.useRef(e),o=s.useRef("none"),i=e?"mounted":"unmounted",[u,l]=Nn(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const c=Ne(r.current);o.current=u==="mounted"?c:"none"},[u]),ot(()=>{const c=r.current,p=a.current;if(p!==e){const d=o.current,g=Ne(c);e?l("MOUNT"):g==="none"||c?.display==="none"?l("UNMOUNT"):l(p&&d!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),ot(()=>{if(t){let c;const p=t.ownerDocument.defaultView??window,f=g=>{const E=Ne(r.current).includes(CSS.escape(g.animationName));if(g.target===t&&E&&(l("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",c=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},d=g=>{g.target===t&&(o.current=Ne(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{p.clearTimeout(c),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:s.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Ne(e){return e?.animationName||"none"}function In(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var[Te,oo]=un("Tooltip",[bt]),Ze=bt(),Et="TooltipProvider",An=700,at="tooltip.open",[kn,wt]=Te(Et),St=e=>{const{__scopeTooltip:t,delayDuration:n=An,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=e,i=s.useRef(!0),u=s.useRef(!1),l=s.useRef(0);return s.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),U.jsx(kn,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:s.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:s.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:s.useCallback(c=>{u.current=c},[]),disableHoverableContent:a,children:o})};St.displayName=Et;var Rt="Tooltip",[ao,De]=Te(Rt),Xe="TooltipTrigger",Ln=s.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=De(Xe,n),o=wt(Xe,n),i=Ze(n),u=s.useRef(null),l=Je(t,u,a.onTriggerChange),c=s.useRef(!1),p=s.useRef(!1),f=s.useCallback(()=>c.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),U.jsx(on,{asChild:!0,...i,children:U.jsx(dn.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:l,onPointerMove:ie(e.onPointerMove,d=>{d.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),p.current=!0)}),onPointerLeave:ie(e.onPointerLeave,()=>{a.onTriggerLeave(),p.current=!1}),onPointerDown:ie(e.onPointerDown,()=>{a.open&&a.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ie(e.onFocus,()=>{c.current||a.onOpen()}),onBlur:ie(e.onBlur,a.onClose),onClick:ie(e.onClick,a.onClose)})})});Ln.displayName=Xe;var Mn="TooltipPortal",[io,Tn]=Te(Mn,{forceMount:void 0}),de="TooltipContent",Dn=s.forwardRef((e,t)=>{const n=Tn(de,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...o}=e,i=De(de,e.__scopeTooltip);return U.jsx(vt,{present:r||i.open,children:i.disableHoverableContent?U.jsx(zt,{side:a,...o,ref:t}):U.jsx(_n,{side:a,...o,ref:t})})}),_n=s.forwardRef((e,t)=>{const n=De(de,e.__scopeTooltip),r=wt(de,e.__scopeTooltip),a=s.useRef(null),o=Je(t,a),[i,u]=s.useState(null),{trigger:l,onClose:c}=n,p=a.current,{onPointerInTransitChange:f}=r,d=s.useCallback(()=>{u(null),f(!1)},[f]),g=s.useCallback((m,E)=>{const y=m.currentTarget,b={x:m.clientX,y:m.clientY},C=Gn(b,y.getBoundingClientRect()),A=Bn(b,C),T=Un(E.getBoundingClientRect()),F=Wn([...A,...T]);u(F),f(!0)},[f]);return s.useEffect(()=>()=>d(),[d]),s.useEffect(()=>{if(l&&p){const m=y=>g(y,p),E=y=>g(y,l);return l.addEventListener("pointerleave",m),p.addEventListener("pointerleave",E),()=>{l.removeEventListener("pointerleave",m),p.removeEventListener("pointerleave",E)}}},[l,p,g,d]),s.useEffect(()=>{if(i){const m=E=>{const y=E.target,b={x:E.clientX,y:E.clientY},C=l?.contains(y)||p?.contains(y),A=!Fn(b,i);C?d():A&&(d(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,p,i,c,d]),U.jsx(zt,{...e,ref:o})}),[$n,Hn]=Te(Rt,{isInside:!1}),On=nn("TooltipContent"),zt=s.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...u}=e,l=De(de,n),c=Ze(n),{onClose:p}=l;return s.useEffect(()=>(document.addEventListener(at,p),()=>document.removeEventListener(at,p)),[p]),s.useEffect(()=>{if(l.trigger){const f=d=>{d.target?.contains(l.trigger)&&p()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,p]),U.jsx(an,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:p,children:U.jsxs(sn,{"data-state":l.stateAttribute,...c,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[U.jsx(On,{children:r}),U.jsx($n,{scope:n,isInside:!0,children:U.jsx(ln,{id:l.contentId,role:"tooltip",children:a||r})})]})})});Dn.displayName=de;var Ct="TooltipArrow",jn=s.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Ze(n);return Hn(Ct,n).isInside?null:U.jsx(cn,{...a,...r,ref:t})});jn.displayName=Ct;function Gn(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,a,o)){case o:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Bn(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Un(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function Fn(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const u=t[o],l=t[i],c=u.x,p=u.y,f=l.x,d=l.y;p>r!=d>r&&n<(f-c)*(r-p)/(d-p)+c&&(a=!a)}return a}function Wn(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Vn(t)}function Vn(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Kn=St;function qn({delayDuration:e=0,...t}){return s.createElement(Kn,{"data-slot":"tooltip-provider",delayDuration:e,...t})}const Xn="sidebar_state",Yn=3600*24*7,Jn="16rem",Zn="3rem",Qn="b",Nt=s.createContext(null);function er(){const e=s.useContext(Nt);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function tr({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:a,children:o,...i}){const u=Cn(),[l,c]=s.useState(!1),[p,f]=s.useState(e),d=t??p,g=s.useCallback(b=>{const C=typeof b=="function"?b(d):b;n?n(C):f(C),document.cookie=`${Xn}=${C}; path=/; max-age=${Yn}`},[n,d]),m=s.useCallback(()=>u?c(b=>!b):g(b=>!b),[u,g,c]);s.useEffect(()=>{const b=C=>{C.key===Qn&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),m())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[m]);const E=d?"expanded":"collapsed",y=s.useMemo(()=>({state:E,open:d,setOpen:g,isMobile:u,openMobile:l,setOpenMobile:c,toggleSidebar:m}),[E,d,g,u,l,c,m]);return s.createElement(Nt.Provider,{value:y},s.createElement(qn,{delayDuration:0},s.createElement("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Jn,"--sidebar-width-icon":Zn,...a},className:q("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...i},o)))}function it({className:e,onClick:t,...n}){const{toggleSidebar:r}=er();return s.createElement(rn,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:q("size-7",e),onClick:a=>{t?.(a),r()},...n},s.createElement(Rn,null),s.createElement("span",{className:"sr-only"},"Toggle Sidebar"))}function nr({className:e,...t}){return s.createElement("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:q("flex flex-col gap-2 p-2",e),...t})}function rr({className:e,...t}){return s.createElement("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:q("flex flex-col gap-2 p-2",e),...t})}function or({className:e,...t}){return s.createElement("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:q("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function ar({className:e,...t}){return s.createElement("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:q("relative flex w-full min-w-0 flex-col p-2",e),...t})}function ir({className:e,...t}){return s.createElement("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:q("w-full text-sm",e),...t})}function sr({className:e,...t}){return s.createElement("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:q("flex w-full min-w-0 flex-col gap-1",e),...t})}function Pe({className:e,...t}){return s.createElement("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:q("group/menu-item relative",e),...t})}const lr=[{title:"Dashboard",url:"/dashboard",icon:Me},{title:"Teachers",url:"/dashboard/teachers",icon:pn},{title:"Subjects",url:"/dashboard/subjects",icon:mn},{title:"Rooms",url:"/dashboard/rooms",icon:hn},{title:"Classes",url:"/dashboard/classes",icon:gn},{title:"Timetable Generator",url:"/dashboard/timetablegen",icon:yt},{title:"Timetable Viewer",url:"/dashboard/timetableViewer",icon:yn},{id:"settings",title:"Settings",icon:Ee,url:"/settings"}],cr=[{id:"dashboard",title:"Dashboard",icon:Me,url:"/dashboard"},{id:"settings",title:"Settings",icon:Ee,url:"/settings"}],ur=[{id:"dashboard",title:"Dashboard",icon:Me,url:"/dashboard"},{id:"settings",title:"Settings",icon:Ee,url:"/settings"}],dr=[{id:"dashboard",title:"Dashboard",icon:Me,url:"/dashboard/teacher-dashboard"},{id:"schedule",title:"My Schedule",icon:yt,url:"/dashboard/teacher-schedule"},{id:"notifications",title:"Notifications",icon:xn,url:"/dashboard/teacher-notifications"},{id:"settings",title:"Settings",icon:Ee,url:"/dashboard/teacher-settings"},{id:"Settings",title:"New Settings",icon:Ee,url:"/settings"}];function fr(){const e=gt(),t=Jt(),n=Zt(),r=xt(c=>c.auth),a=s.useRef(null),[o,i]=s.useState(!1),u=160;s.useEffect(()=>{const c=a.current;if(!c)return;const p=()=>{const d=c.getBoundingClientRect().width;i(d<=u)};p();const f=new ResizeObserver(p);return f.observe(c),()=>f.disconnect()},[]);const l=async()=>{try{await Qt.auth.signOut()}catch(c){console.error("Logout error:",c)}finally{n(en());try{localStorage.clear()}catch{}t("/")}};return React.createElement("div",{ref:a,className:"border-r border-sidebar-border h-svh min-h-0 overflow-hidden flex flex-col bg-background text-foreground"},React.createElement(nr,{className:"border-b border-sidebar-border p-6 shrink-0"},React.createElement(be,{to:"/dashboard"},React.createElement("div",{className:"flex items-center gap-3 min-w-0"},React.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg"},React.createElement(fn,{className:"w-6 h-6 text-white"})),React.createElement("div",{className:`min-w-0 flex-1 ${o?"hidden":"block"}`},React.createElement("h2",{className:"font-bold text-foreground text-lg truncate"},"Calvio"),React.createElement("p",{className:"text-xs text-muted-foreground truncate"},"Academic Scheduling"))))),React.createElement(or,{className:"p-4 flex-1 overflow-auto min-h-0"},React.createElement(ar,null,React.createElement(ir,null,React.createElement(sr,{className:"space-y-1"},r.roles.includes("admin")&&lr.map(c=>React.createElement(Pe,{key:c.title},React.createElement(be,{to:c.url,className:`flex items-center ${o?"justify-center":"gap-3"} rounded-lg py-3 px-3 w-full ${!o&&e.pathname===c.url?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":""}`},React.createElement("span",{className:`${o&&e.pathname===c.url?"bg-sidebar-accent text-sidebar-accent-foreground rounded-md p-3":""}`},React.createElement(c.icon,{className:"w-5 h-5 flex-none"})),React.createElement("span",{className:`font-medium truncate ${o?"hidden":"inline"}`},c.title)))),r.roles.includes("teacher")&&dr.map(c=>React.createElement(Pe,{key:c.title},React.createElement(be,{to:c.url,className:`flex items-center ${o?"justify-center":"gap-3"} rounded-lg py-3 px-3 w-full ${!o&&e.pathname===c.url?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":""}`},React.createElement("span",{className:`${o&&e.pathname===c.url?"bg-sidebar-accent text-sidebar-accent-foreground rounded-md p-2":""}`},React.createElement(c.icon,{className:"h-5 w-5 flex-none"})),React.createElement("span",{className:`font-medium truncate ${o?"hidden":"inline"}`},c.title)))),r.roles.includes("student")&&cr.map(c=>React.createElement(Pe,{key:c.title},React.createElement(be,{to:c.url,className:`flex items-center ${o?"justify-center":"gap-3"} rounded-lg py-3 px-3 w-full ${!o&&e.pathname===c.url?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":""}`},React.createElement("span",{className:`${o&&e.pathname===c.url?"bg-sidebar-accent text-sidebar-accent-foreground rounded-md p-2":""}`},React.createElement(c.icon,{className:"w-5 h-5 flex-none"})),React.createElement("span",{className:`font-medium truncate ${o?"hidden":"inline"}`},c.title)))),r.roles.includes("hod")&&ur.map(c=>React.createElement(Pe,{key:c.title},React.createElement(be,{to:c.url,className:`flex items-center ${o?"justify-center":"gap-3"} rounded-lg py-3 px-3 w-full ${!o&&e.pathname===c.url?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":""}`},React.createElement("span",{className:`${o&&e.pathname===c.url?"bg-sidebar-accent text-sidebar-accent-foreground rounded-md p-2":""}`},React.createElement(c.icon,{className:"w-5 h-5 flex-none"})),React.createElement("span",{className:`font-medium truncate ${o?"hidden":"inline"}`},c.title)))))))),React.createElement(rr,{className:"border-t border-sidebar-border p-4 shrink-0"},React.createElement("div",{className:`flex items-center w-full ${o?"justify-center px-0 py-0 bg-transparent":"space-x-3 px-4 py-3 rounded-lg bg-muted/50"}`},React.createElement("div",{className:`w-8 h-8 bg-muted rounded-full flex items-center justify-center ${o?"hidden":"flex"}`},React.createElement("span",{className:"text-foreground font-medium text-sm"},r?.user?.first_name?.charAt(0))),React.createElement("div",{className:`flex-1 min-w-0 ${o?"hidden":"block"}`},React.createElement("p",{className:"text-sm font-medium text-foreground truncate"},[r?.user?.first_name,r?.user?.last_name].filter(Boolean).join(" ")),React.createElement("p",{className:"text-xs text-muted-foreground truncate"},r?.roles?.[0]?.charAt(0)?.toUpperCase(),r?.roles?.[0]?.slice(1)?.toLowerCase())),React.createElement("button",{onClick:l,className:`${o?"inline-flex items-center justify-center p-5 rounded-md bg-muted/50 hover:bg-muted":"ml-auto"} text-muted-foreground hover:text-foreground`,"aria-label":"Logout",title:"Logout"},React.createElement(wn,{className:"h-4 w-4"})))))}const _e=s.createContext(null);_e.displayName="PanelGroupContext";const L={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Qe=10,re=s.useLayoutEffect,st=tn.useId,pr=typeof st=="function"?st:()=>null;let mr=0;function et(e=null){const t=pr(),n=s.useRef(e||t||null);return n.current===null&&(n.current=""+mr++),e??n.current}function Pt({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:a,forwardedRef:o,id:i,maxSize:u,minSize:l,onCollapse:c,onExpand:p,onResize:f,order:d,style:g,tagName:m="div",...E}){const y=s.useContext(_e);if(y===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:b,expandPanel:C,getPanelSize:A,getPanelStyle:T,groupId:F,isPanelCollapsed:I,reevaluatePanelConstraints:N,registerPanel:W,resizePanel:J,unregisterPanel:G}=y,H=et(i),M=s.useRef({callbacks:{onCollapse:c,onExpand:p,onResize:f},constraints:{collapsedSize:n,collapsible:r,defaultSize:a,maxSize:u,minSize:l},id:H,idIsFromProps:i!==void 0,order:d});s.useRef({didLogMissingDefaultSizeWarning:!1}),re(()=>{const{callbacks:$,constraints:_}=M.current,O={..._};M.current.id=H,M.current.idIsFromProps=i!==void 0,M.current.order=d,$.onCollapse=c,$.onExpand=p,$.onResize=f,_.collapsedSize=n,_.collapsible=r,_.defaultSize=a,_.maxSize=u,_.minSize=l,(O.collapsedSize!==_.collapsedSize||O.collapsible!==_.collapsible||O.maxSize!==_.maxSize||O.minSize!==_.minSize)&&N(M.current,O)}),re(()=>{const $=M.current;return W($),()=>{G($)}},[d,H,W,G]),s.useImperativeHandle(o,()=>({collapse:()=>{b(M.current)},expand:$=>{C(M.current,$)},getId(){return H},getSize(){return A(M.current)},isCollapsed(){return I(M.current)},isExpanded(){return!I(M.current)},resize:$=>{J(M.current,$)}}),[b,C,A,I,H,J]);const te=T(M.current,a);return s.createElement(m,{...E,children:e,className:t,id:H,style:{...te,...g},[L.groupId]:F,[L.panel]:"",[L.panelCollapsible]:r||void 0,[L.panelId]:H,[L.panelSize]:parseFloat(""+te.flexGrow).toFixed(1)})}const It=s.forwardRef((e,t)=>s.createElement(Pt,{...e,forwardedRef:t}));Pt.displayName="Panel";It.displayName="forwardRef(Panel)";let Ye=null,Ae=-1,Q=null;function hr(e,t,n){const r=(t&Tt)!==0,a=(t&Dt)!==0,o=(t&_t)!==0,i=(t&$t)!==0;if(t){if(r)return o?"se-resize":i?"ne-resize":"e-resize";if(a)return o?"sw-resize":i?"nw-resize":"w-resize";if(o)return"s-resize";if(i)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function gr(){Q!==null&&(document.head.removeChild(Q),Ye=null,Q=null,Ae=-1)}function Fe(e,t,n){var r,a;const o=hr(e,t);if(Ye!==o){if(Ye=o,Q===null&&(Q=document.createElement("style"),document.head.appendChild(Q)),Ae>=0){var i;(i=Q.sheet)===null||i===void 0||i.removeRule(Ae)}Ae=(r=(a=Q.sheet)===null||a===void 0?void 0:a.insertRule(`*{cursor: ${o} !important;}`))!==null&&r!==void 0?r:-1}}function At(e){return e.type==="keydown"}function kt(e){return e.type.startsWith("pointer")}function Lt(e){return e.type.startsWith("mouse")}function $e(e){if(kt(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Lt(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function xr(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function br(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function yr(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:ut(e),b:ut(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;R(r,"Stacking order can only be calculated for elements with a common ancestor");const a={a:ct(lt(n.a)),b:ct(lt(n.b))};if(a.a===a.b){const o=r.childNodes,i={a:n.a.at(-1),b:n.b.at(-1)};let u=o.length;for(;u--;){const l=o[u];if(l===i.a)return 1;if(l===i.b)return-1}}return Math.sign(a.a-a.b)}const vr=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Er(e){var t;const n=getComputedStyle((t=Mt(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function wr(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Er(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||vr.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function lt(e){let t=e.length;for(;t--;){const n=e[t];if(R(n,"Missing node"),wr(n))return n}return null}function ct(e){return e&&Number(getComputedStyle(e).zIndex)||0}function ut(e){const t=[];for(;e;)t.push(e),e=Mt(e);return t}function Mt(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Tt=1,Dt=2,_t=4,$t=8,Sr=xr()==="coarse";let K=[],ue=!1,ee=new Map,He=new Map;const we=new Set;function Rr(e,t,n,r,a){var o;const{ownerDocument:i}=t,u={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:a},l=(o=ee.get(i))!==null&&o!==void 0?o:0;return ee.set(i,l+1),we.add(u),ke(),function(){var p;He.delete(e),we.delete(u);const f=(p=ee.get(i))!==null&&p!==void 0?p:1;if(ee.set(i,f-1),ke(),f===1&&ee.delete(i),K.includes(u)){const d=K.indexOf(u);d>=0&&K.splice(d,1),Oe(),a("up",!0,null)}}}function zr(e){const{target:t}=e,{x:n,y:r}=$e(e);ue=!0,tt({target:t,x:n,y:r}),ke(),K.length>0&&(Le("down",e),Oe(),e.preventDefault(),Ht(t)||e.stopImmediatePropagation())}function We(e){const{x:t,y:n}=$e(e);if(ue&&e.type!=="pointerleave"&&e.buttons===0&&(ue=!1,Le("up",e)),!ue){const{target:r}=e;tt({target:r,x:t,y:n})}Le("move",e),Oe(),K.length>0&&e.preventDefault()}function Ve(e){const{target:t}=e,{x:n,y:r}=$e(e);He.clear(),ue=!1,K.length>0&&(e.preventDefault(),Ht(t)||e.stopImmediatePropagation()),Le("up",e),tt({target:t,x:n,y:r}),Oe(),ke()}function Ht(e){let t=e;for(;t;){if(t.hasAttribute(L.resizeHandle))return!0;t=t.parentElement}return!1}function tt({target:e,x:t,y:n}){K.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),we.forEach(a=>{const{element:o,hitAreaMargins:i}=a,u=o.getBoundingClientRect(),{bottom:l,left:c,right:p,top:f}=u,d=Sr?i.coarse:i.fine;if(t>=c-d&&t<=p+d&&n>=f-d&&n<=l+d){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&yr(r,o)>0){let m=r,E=!1;for(;m&&!m.contains(o);){if(br(m.getBoundingClientRect(),u)){E=!0;break}m=m.parentElement}if(E)return}K.push(a)}})}function Ke(e,t){He.set(e,t)}function Oe(){let e=!1,t=!1;K.forEach(r=>{const{direction:a}=r;a==="horizontal"?e=!0:t=!0});let n=0;He.forEach(r=>{n|=r}),e&&t?Fe("intersection",n):e?Fe("horizontal",n):t?Fe("vertical",n):gr()}let qe;function ke(){var e;(e=qe)===null||e===void 0||e.abort(),qe=new AbortController;const t={capture:!0,signal:qe.signal};we.size&&(ue?(K.length>0&&ee.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("contextmenu",Ve,t),a.addEventListener("pointerleave",We,t),a.addEventListener("pointermove",We,t))}),ee.forEach((n,r)=>{const{body:a}=r;a.addEventListener("pointerup",Ve,t),a.addEventListener("pointercancel",Ve,t)})):ee.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("pointerdown",zr,t),a.addEventListener("pointermove",We,t))}))}function Le(e,t){we.forEach(n=>{const{setResizeHandlerState:r}=n,a=K.includes(n);r(e,a,t)})}function Cr(){const[e,t]=s.useState(0);return s.useCallback(()=>t(n=>n+1),[])}function R(e,t){if(!e)throw console.error(t),Error(t)}function oe(e,t,n=Qe){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Z(e,t,n=Qe){return oe(e,t,n)===0}function B(e,t,n){return oe(e,t,n)===0}function Nr(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const a=e[r],o=t[r];if(!B(a,o,n))return!1}return!0}function ce({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];R(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:o,maxSize:i=100,minSize:u=0}=r;if(oe(n,u)<0)if(o){const l=(a+u)/2;oe(n,l)<0?n=a:n=u}else n=u;return n=Math.min(i,n),n=parseFloat(n.toFixed(Qe)),n}function ye({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:a,trigger:o}){if(B(e,0))return t;const i=[...t],[u,l]=r;R(u!=null,"Invalid first pivot index"),R(l!=null,"Invalid second pivot index");let c=0;if(o==="keyboard"){{const f=e<0?l:u,d=n[f];R(d,`Panel constraints not found for index ${f}`);const{collapsedSize:g=0,collapsible:m,minSize:E=0}=d;if(m){const y=t[f];if(R(y!=null,`Previous layout not found for panel index ${f}`),B(y,g)){const b=E-y;oe(b,Math.abs(e))>0&&(e=e<0?0-b:b)}}}{const f=e<0?u:l,d=n[f];R(d,`No panel constraints found for index ${f}`);const{collapsedSize:g=0,collapsible:m,minSize:E=0}=d;if(m){const y=t[f];if(R(y!=null,`Previous layout not found for panel index ${f}`),B(y,E)){const b=y-g;oe(b,Math.abs(e))>0&&(e=e<0?0-b:b)}}}}{const f=e<0?1:-1;let d=e<0?l:u,g=0;for(;;){const E=t[d];R(E!=null,`Previous layout not found for panel index ${d}`);const b=ce({panelConstraints:n,panelIndex:d,size:100})-E;if(g+=b,d+=f,d<0||d>=n.length)break}const m=Math.min(Math.abs(e),Math.abs(g));e=e<0?0-m:m}{let d=e<0?u:l;for(;d>=0&&d<n.length;){const g=Math.abs(e)-Math.abs(c),m=t[d];R(m!=null,`Previous layout not found for panel index ${d}`);const E=m-g,y=ce({panelConstraints:n,panelIndex:d,size:E});if(!B(m,y)&&(c+=m-y,i[d]=y,c.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?d--:d++}}if(Nr(a,i))return a;{const f=e<0?l:u,d=t[f];R(d!=null,`Previous layout not found for panel index ${f}`);const g=d+c,m=ce({panelConstraints:n,panelIndex:f,size:g});if(i[f]=m,!B(m,g)){let E=g-m,b=e<0?l:u;for(;b>=0&&b<n.length;){const C=i[b];R(C!=null,`Previous layout not found for panel index ${b}`);const A=C+E,T=ce({panelConstraints:n,panelIndex:b,size:A});if(B(C,T)||(E-=T-C,i[b]=T),B(E,0))break;e>0?b--:b++}}}const p=i.reduce((f,d)=>d+f,0);return B(p,100)?i:a}function Pr({layout:e,panelsArray:t,pivotIndices:n}){let r=0,a=100,o=0,i=0;const u=n[0];R(u!=null,"No pivot index found"),t.forEach((f,d)=>{const{constraints:g}=f,{maxSize:m=100,minSize:E=0}=g;d===u?(r=E,a=m):(o+=E,i+=m)});const l=Math.min(a,100-o),c=Math.max(r,100-i),p=e[u];return{valueMax:l,valueMin:c,valueNow:p}}function Se(e,t=document){return Array.from(t.querySelectorAll(`[${L.resizeHandleId}][data-panel-group-id="${e}"]`))}function Ot(e,t,n=document){const a=Se(e,n).findIndex(o=>o.getAttribute(L.resizeHandleId)===t);return a??null}function jt(e,t,n){const r=Ot(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function Ir(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function Gt(e,t=document){if(Ir(t)&&t.dataset.panelGroupId==e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function je(e,t=document){const n=t.querySelector(`[${L.resizeHandleId}="${e}"]`);return n||null}function Ar(e,t,n,r=document){var a,o,i,u;const l=je(t,r),c=Se(e,r),p=l?c.indexOf(l):-1,f=(a=(o=n[p])===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:null,d=(i=(u=n[p+1])===null||u===void 0?void 0:u.id)!==null&&i!==void 0?i:null;return[f,d]}function kr({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:a,panelGroupElement:o,setLayout:i}){s.useRef({didWarnAboutMissingResizeHandle:!1}),re(()=>{if(!o)return;const u=Se(n,o);for(let l=0;l<a.length-1;l++){const{valueMax:c,valueMin:p,valueNow:f}=Pr({layout:r,panelsArray:a,pivotIndices:[l,l+1]}),d=u[l];if(d!=null){const g=a[l];R(g,`No panel data found for index "${l}"`),d.setAttribute("aria-controls",g.id),d.setAttribute("aria-valuemax",""+Math.round(c)),d.setAttribute("aria-valuemin",""+Math.round(p)),d.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{u.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,a,o]),s.useEffect(()=>{if(!o)return;const u=t.current;R(u,"Eager values not found");const{panelDataArray:l}=u,c=Gt(n,o);R(c!=null,`No group found for id "${n}"`);const p=Se(n,o);R(p,`No resize handles found for group id "${n}"`);const f=p.map(d=>{const g=d.getAttribute(L.resizeHandleId);R(g,"Resize handle element has no handle id attribute");const[m,E]=Ar(n,g,l,o);if(m==null||E==null)return()=>{};const y=b=>{if(!b.defaultPrevented)switch(b.key){case"Enter":{b.preventDefault();const C=l.findIndex(A=>A.id===m);if(C>=0){const A=l[C];R(A,`No panel data found for index ${C}`);const T=r[C],{collapsedSize:F=0,collapsible:I,minSize:N=0}=A.constraints;if(T!=null&&I){const W=ye({delta:B(T,F)?N-F:F-T,initialLayout:r,panelConstraints:l.map(J=>J.constraints),pivotIndices:jt(n,g,o),prevLayout:r,trigger:"keyboard"});r!==W&&i(W)}}break}}};return d.addEventListener("keydown",y),()=>{d.removeEventListener("keydown",y)}});return()=>{f.forEach(d=>d())}},[o,e,t,n,r,a,i])}function dt(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Bt(e,t){const n=e==="horizontal",{x:r,y:a}=$e(t);return n?r:a}function Lr(e,t,n,r,a){const o=n==="horizontal",i=je(t,a);R(i,`No resize handle element found for id "${t}"`);const u=i.getAttribute(L.groupId);R(u,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const c=Bt(n,e),p=Gt(u,a);R(p,`No group element found for id "${u}"`);const f=p.getBoundingClientRect(),d=o?f.width:f.height;return(c-l)/d*100}function Mr(e,t,n,r,a,o){if(At(e)){const i=n==="horizontal";let u=0;e.shiftKey?u=100:a!=null?u=a:u=10;let l=0;switch(e.key){case"ArrowDown":l=i?0:u;break;case"ArrowLeft":l=i?-u:0;break;case"ArrowRight":l=i?u:0;break;case"ArrowUp":l=i?0:-u;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:Lr(e,t,n,r,o)}function Tr({panelDataArray:e}){const t=Array(e.length),n=e.map(o=>o.constraints);let r=0,a=100;for(let o=0;o<e.length;o++){const i=n[o];R(i,`Panel constraints not found for index ${o}`);const{defaultSize:u}=i;u!=null&&(r++,t[o]=u,a-=u)}for(let o=0;o<e.length;o++){const i=n[o];R(i,`Panel constraints not found for index ${o}`);const{defaultSize:u}=i;if(u!=null)continue;const l=e.length-r,c=a/l;r++,t[o]=c,a-=c}return t}function se(e,t,n){t.forEach((r,a)=>{const o=e[a];R(o,`Panel data not found for index ${a}`);const{callbacks:i,constraints:u,id:l}=o,{collapsedSize:c=0,collapsible:p}=u,f=n[l];if(f==null||r!==f){n[l]=r;const{onCollapse:d,onExpand:g,onResize:m}=i;m&&m(r,f),p&&(d||g)&&(g&&(f==null||Z(f,c))&&!Z(r,c)&&g(),d&&(f==null||!Z(f,c))&&Z(r,c)&&d())}})}function Ie(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Dr({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:a,precision:o=3}){const i=n[a];let u;return i==null?u=e!=null?e.toFixed(o):"1":r.length===1?u="1":u=i.toFixed(o),{flexBasis:0,flexGrow:u,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function _r(e,t=10){let n=null;return(...a)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...a)},t)}}function ft(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Ut(e){return`react-resizable-panels:${e}`}function Ft(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:a,order:o}=t;return a?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function Wt(e,t){try{const n=Ut(e),r=t.getItem(n);if(r){const a=JSON.parse(r);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function $r(e,t,n){var r,a;const o=(r=Wt(e,n))!==null&&r!==void 0?r:{},i=Ft(t);return(a=o[i])!==null&&a!==void 0?a:null}function Hr(e,t,n,r,a){var o;const i=Ut(e),u=Ft(t),l=(o=Wt(e,a))!==null&&o!==void 0?o:{};l[u]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{a.setItem(i,JSON.stringify(l))}catch(c){console.error(c)}}function pt({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((o,i)=>o+i,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!B(r,100)&&n.length>0)for(let o=0;o<t.length;o++){const i=n[o];R(i!=null,`No layout data found for index ${o}`);const u=100/r*i;n[o]=u}let a=0;for(let o=0;o<t.length;o++){const i=n[o];R(i!=null,`No layout data found for index ${o}`);const u=ce({panelConstraints:t,panelIndex:o,size:i});i!=u&&(a+=i-u,n[o]=u)}if(!B(a,0))for(let o=0;o<t.length;o++){const i=n[o];R(i!=null,`No layout data found for index ${o}`);const u=i+a,l=ce({panelConstraints:t,panelIndex:o,size:u});if(i!==l&&(a-=l-i,n[o]=l,B(a,0)))break}return n}const Or=100,ve={getItem:e=>(ft(ve),ve.getItem(e)),setItem:(e,t)=>{ft(ve),ve.setItem(e,t)}},mt={};function Vt({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:a,id:o=null,onLayout:i=null,keyboardResizeBy:u=null,storage:l=ve,style:c,tagName:p="div",...f}){const d=et(o),g=s.useRef(null),[m,E]=s.useState(null),[y,b]=s.useState([]),C=Cr(),A=s.useRef({}),T=s.useRef(new Map),F=s.useRef(0),I=s.useRef({autoSaveId:e,direction:r,dragState:m,id:d,keyboardResizeBy:u,onLayout:i,storage:l}),N=s.useRef({layout:y,panelDataArray:[],panelDataArrayChanged:!1});s.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),s.useImperativeHandle(a,()=>({getId:()=>I.current.id,getLayout:()=>{const{layout:h}=N.current;return h},setLayout:h=>{const{onLayout:w}=I.current,{layout:z,panelDataArray:v}=N.current,x=pt({layout:h,panelConstraints:v.map(S=>S.constraints)});dt(z,x)||(b(x),N.current.layout=x,w&&w(x),se(v,x,A.current))}}),[]),re(()=>{I.current.autoSaveId=e,I.current.direction=r,I.current.dragState=m,I.current.id=d,I.current.onLayout=i,I.current.storage=l}),kr({committedValuesRef:I,eagerValuesRef:N,groupId:d,layout:y,panelDataArray:N.current.panelDataArray,setLayout:b,panelGroupElement:g.current}),s.useEffect(()=>{const{panelDataArray:h}=N.current;if(e){if(y.length===0||y.length!==h.length)return;let w=mt[e];w==null&&(w=_r(Hr,Or),mt[e]=w);const z=[...h],v=new Map(T.current);w(e,z,v,y,l)}},[e,y,l]),s.useEffect(()=>{});const W=s.useCallback(h=>{const{onLayout:w}=I.current,{layout:z,panelDataArray:v}=N.current;if(h.constraints.collapsible){const x=v.map(X=>X.constraints),{collapsedSize:S=0,panelSize:P,pivotIndices:D}=ne(v,h,z);if(R(P!=null,`Panel size not found for panel "${h.id}"`),!Z(P,S)){T.current.set(h.id,P);const Y=le(v,h)===v.length-1?P-S:S-P,k=ye({delta:Y,initialLayout:z,panelConstraints:x,pivotIndices:D,prevLayout:z,trigger:"imperative-api"});Ie(z,k)||(b(k),N.current.layout=k,w&&w(k),se(v,k,A.current))}}},[]),J=s.useCallback((h,w)=>{const{onLayout:z}=I.current,{layout:v,panelDataArray:x}=N.current;if(h.constraints.collapsible){const S=x.map(V=>V.constraints),{collapsedSize:P=0,panelSize:D=0,minSize:X=0,pivotIndices:Y}=ne(x,h,v),k=w??X;if(Z(D,P)){const V=T.current.get(h.id),ge=V!=null&&V>=k?V:k,Ge=le(x,h)===x.length-1?D-ge:ge-D,j=ye({delta:Ge,initialLayout:v,panelConstraints:S,pivotIndices:Y,prevLayout:v,trigger:"imperative-api"});Ie(v,j)||(b(j),N.current.layout=j,z&&z(j),se(x,j,A.current))}}},[]),G=s.useCallback(h=>{const{layout:w,panelDataArray:z}=N.current,{panelSize:v}=ne(z,h,w);return R(v!=null,`Panel size not found for panel "${h.id}"`),v},[]),H=s.useCallback((h,w)=>{const{panelDataArray:z}=N.current,v=le(z,h);return Dr({defaultSize:w,dragState:m,layout:y,panelData:z,panelIndex:v})},[m,y]),M=s.useCallback(h=>{const{layout:w,panelDataArray:z}=N.current,{collapsedSize:v=0,collapsible:x,panelSize:S}=ne(z,h,w);return R(S!=null,`Panel size not found for panel "${h.id}"`),x===!0&&Z(S,v)},[]),te=s.useCallback(h=>{const{layout:w,panelDataArray:z}=N.current,{collapsedSize:v=0,collapsible:x,panelSize:S}=ne(z,h,w);return R(S!=null,`Panel size not found for panel "${h.id}"`),!x||oe(S,v)>0},[]),$=s.useCallback(h=>{const{panelDataArray:w}=N.current;w.push(h),w.sort((z,v)=>{const x=z.order,S=v.order;return x==null&&S==null?0:x==null?-1:S==null?1:x-S}),N.current.panelDataArrayChanged=!0,C()},[C]);re(()=>{if(N.current.panelDataArrayChanged){N.current.panelDataArrayChanged=!1;const{autoSaveId:h,onLayout:w,storage:z}=I.current,{layout:v,panelDataArray:x}=N.current;let S=null;if(h){const D=$r(h,x,z);D&&(T.current=new Map(Object.entries(D.expandToSizes)),S=D.layout)}S==null&&(S=Tr({panelDataArray:x}));const P=pt({layout:S,panelConstraints:x.map(D=>D.constraints)});dt(v,P)||(b(P),N.current.layout=P,w&&w(P),se(x,P,A.current))}}),re(()=>{const h=N.current;return()=>{h.layout=[]}},[]);const _=s.useCallback(h=>{let w=!1;const z=g.current;return z&&window.getComputedStyle(z,null).getPropertyValue("direction")==="rtl"&&(w=!0),function(x){x.preventDefault();const S=g.current;if(!S)return()=>null;const{direction:P,dragState:D,id:X,keyboardResizeBy:Y,onLayout:k}=I.current,{layout:V,panelDataArray:ge}=N.current,{initialLayout:Ce}=D??{},Ge=jt(X,h,S);let j=Mr(x,h,P,D,Y,S);const nt=P==="horizontal";nt&&w&&(j=-j);const Xt=ge.map(Yt=>Yt.constraints),xe=ye({delta:j,initialLayout:Ce??V,panelConstraints:Xt,pivotIndices:Ge,prevLayout:V,trigger:At(x)?"keyboard":"mouse-or-touch"}),rt=!Ie(V,xe);(kt(x)||Lt(x))&&F.current!=j&&(F.current=j,!rt&&j!==0?nt?Ke(h,j<0?Tt:Dt):Ke(h,j<0?_t:$t):Ke(h,0)),rt&&(b(xe),N.current.layout=xe,k&&k(xe),se(ge,xe,A.current))}},[]),O=s.useCallback((h,w)=>{const{onLayout:z}=I.current,{layout:v,panelDataArray:x}=N.current,S=x.map(V=>V.constraints),{panelSize:P,pivotIndices:D}=ne(x,h,v);R(P!=null,`Panel size not found for panel "${h.id}"`);const Y=le(x,h)===x.length-1?P-w:w-P,k=ye({delta:Y,initialLayout:v,panelConstraints:S,pivotIndices:D,prevLayout:v,trigger:"imperative-api"});Ie(v,k)||(b(k),N.current.layout=k,z&&z(k),se(x,k,A.current))},[]),fe=s.useCallback((h,w)=>{const{layout:z,panelDataArray:v}=N.current,{collapsedSize:x=0,collapsible:S}=w,{collapsedSize:P=0,collapsible:D,maxSize:X=100,minSize:Y=0}=h.constraints,{panelSize:k}=ne(v,h,z);k!=null&&(S&&D&&Z(k,x)?Z(x,P)||O(h,P):k<Y?O(h,Y):k>X&&O(h,X))},[O]),pe=s.useCallback((h,w)=>{const{direction:z}=I.current,{layout:v}=N.current;if(!g.current)return;const x=je(h,g.current);R(x,`Drag handle element not found for id "${h}"`);const S=Bt(z,w);E({dragHandleId:h,dragHandleRect:x.getBoundingClientRect(),initialCursorPosition:S,initialLayout:v})},[]),me=s.useCallback(()=>{E(null)},[]),ze=s.useCallback(h=>{const{panelDataArray:w}=N.current,z=le(w,h);z>=0&&(w.splice(z,1),delete A.current[h.id],N.current.panelDataArrayChanged=!0,C())},[C]),ae=s.useMemo(()=>({collapsePanel:W,direction:r,dragState:m,expandPanel:J,getPanelSize:G,getPanelStyle:H,groupId:d,isPanelCollapsed:M,isPanelExpanded:te,reevaluatePanelConstraints:fe,registerPanel:$,registerResizeHandle:_,resizePanel:O,startDragging:pe,stopDragging:me,unregisterPanel:ze,panelGroupElement:g.current}),[W,m,r,J,G,H,d,M,te,fe,$,_,O,pe,me,ze]),he={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return s.createElement(_e.Provider,{value:ae},s.createElement(p,{...f,children:t,className:n,id:o,ref:g,style:{...he,...c},[L.group]:"",[L.groupDirection]:r,[L.groupId]:d}))}const Kt=s.forwardRef((e,t)=>s.createElement(Vt,{...e,forwardedRef:t}));Vt.displayName="PanelGroup";Kt.displayName="forwardRef(PanelGroup)";function le(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function ne(e,t,n){const r=le(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],i=n[r];return{...t.constraints,panelSize:i,pivotIndices:o}}function jr({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){s.useEffect(()=>{if(e||n==null||r==null)return;const a=je(t,r);if(a==null)return;const o=i=>{if(!i.defaultPrevented)switch(i.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{i.preventDefault(),n(i);break}case"F6":{i.preventDefault();const u=a.getAttribute(L.groupId);R(u,`No group element found for id "${u}"`);const l=Se(u,r),c=Ot(u,t,r);R(c!==null,`No resize element found for id "${t}"`);const p=i.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[p].focus();break}}};return a.addEventListener("keydown",o),()=>{a.removeEventListener("keydown",o)}},[r,e,t,n])}function qt({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:a,onBlur:o,onClick:i,onDragging:u,onFocus:l,onPointerDown:c,onPointerUp:p,style:f={},tabIndex:d=0,tagName:g="div",...m}){var E,y;const b=s.useRef(null),C=s.useRef({onClick:i,onDragging:u,onPointerDown:c,onPointerUp:p});s.useEffect(()=>{C.current.onClick=i,C.current.onDragging=u,C.current.onPointerDown=c,C.current.onPointerUp=p});const A=s.useContext(_e);if(A===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:T,groupId:F,registerResizeHandle:I,startDragging:N,stopDragging:W,panelGroupElement:J}=A,G=et(a),[H,M]=s.useState("inactive"),[te,$]=s.useState(!1),[_,O]=s.useState(null),fe=s.useRef({state:H});re(()=>{fe.current.state=H}),s.useEffect(()=>{if(n)O(null);else{const ae=I(G);O(()=>ae)}},[n,G,I]);const pe=(E=r?.coarse)!==null&&E!==void 0?E:15,me=(y=r?.fine)!==null&&y!==void 0?y:5;s.useEffect(()=>{if(n||_==null)return;const ae=b.current;R(ae,"Element ref not attached");let he=!1;return Rr(G,ae,T,{coarse:pe,fine:me},(w,z,v)=>{if(!z){M("inactive");return}switch(w){case"down":{M("drag"),he=!1,R(v,'Expected event to be defined for "down" action'),N(G,v);const{onDragging:x,onPointerDown:S}=C.current;x?.(!0),S?.();break}case"move":{const{state:x}=fe.current;he=!0,x!=="drag"&&M("hover"),R(v,'Expected event to be defined for "move" action'),_(v);break}case"up":{M("hover"),W();const{onClick:x,onDragging:S,onPointerUp:P}=C.current;S?.(!1),P?.(),he||x?.();break}}})},[pe,T,n,me,I,G,_,N,W]),jr({disabled:n,handleId:G,resizeHandler:_,panelGroupElement:J});const ze={touchAction:"none",userSelect:"none"};return s.createElement(g,{...m,children:e,className:t,id:a,onBlur:()=>{$(!1),o?.()},onFocus:()=>{$(!0),l?.()},ref:b,role:"separator",style:{...ze,...f},tabIndex:d,[L.groupDirection]:T,[L.groupId]:F,[L.resizeHandle]:"",[L.resizeHandleActive]:H==="drag"?"pointer":te?"keyboard":void 0,[L.resizeHandleEnabled]:!n,[L.resizeHandleId]:G,[L.resizeHandleState]:H})}qt.displayName="PanelResizeHandle";function Gr({className:e,...t}){return s.createElement(Kt,{"data-slot":"resizable-panel-group",className:q("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function ht({...e}){return s.createElement(It,{"data-slot":"resizable-panel",...e})}function Br({className:e,...t}){return s.createElement(qt,{"data-slot":"resizable-handle",className:q("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...t})}function so(){const e=gt(),t=xt(i=>i.auth.roles)||[],r=!["/","/auth"].includes(e.pathname),a={admin:"Calvio",teacher:"Teacher Portal",hod:"HOD Portal",student:"Student Portal"},o=Object.keys(a).find(i=>t.includes(i));return o?React.createElement(tr,null,React.createElement("div",{className:"h-svh w-full overflow-hidden bg-background"},r?React.createElement(Gr,{direction:"horizontal",className:"flex w-full h-svh min-h-0 overflow-hidden"},React.createElement(ht,{defaultSize:16,minSize:5,className:"min-w-[3rem] h-svh overflow-hidden",maxSize:20},React.createElement(fr,null)),React.createElement(Br,null),React.createElement(ht,{defaultSize:84,minSize:80,className:"flex min-h-0 flex-col"},React.createElement("main",{className:"flex-1 min-h-0 flex flex-col"},React.createElement("header",{className:"bg-background border-b border-border px-6 py-4 md:hidden"},React.createElement("div",{className:"flex items-center gap-4"},o==="admin"&&r&&React.createElement(it,{className:"hover:bg-muted p-2 rounded-lg transition-colors duration-200"}),React.createElement("h1",{className:"text-xl font-semibold text-foreground"},a[o]))),React.createElement("div",{className:"flex-1 overflow-auto bg-gradient-to-br from-background to-muted/50"},React.createElement(Be,null))))):React.createElement("main",{className:"h-svh min-h-0 flex flex-col overflow-hidden"},React.createElement("header",{className:"bg-background border-b border-border px-6 py-4 md:hidden"},React.createElement("div",{className:"flex items-center gap-4"},o==="admin"&&r&&React.createElement(it,{className:"hover:bg-muted p-2 rounded-lg transition-colors duration-200"}),React.createElement("h1",{className:"text-xl font-semibold text-foreground"},a[o]))),React.createElement("div",{className:"flex-1 overflow-auto bg-gradient-to-br from-background to-muted/50"},React.createElement(Be,null))))):React.createElement("div",{className:"h-svh bg-background"},React.createElement(Be,null))}export{so as default};
