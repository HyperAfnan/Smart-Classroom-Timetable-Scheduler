import{u as n,q as o}from"./queryKeys-DEtgRCDz.js";import{s as c}from"./index-DtPpba_i.js";const y=Object.freeze([]),p=Object.freeze([]);async function b(){const{data:s,error:e}=await c.from("subjects").select("*").order("created_at",{ascending:!1});if(e)throw new Error(e.message||"Failed to load subjects");return s??[]}async function j(){const{data:s,error:e}=await c.from("department").select("name").order("name",{ascending:!0});if(e)throw new Error(e.message||"Failed to load departments");return(s??[]).map(a=>a?.name).filter(Boolean)}function h(s={}){const{subjectsQueryOptions:e={},departmentsQueryOptions:a={}}=s,r=n({queryKey:o.subjects.all,queryFn:b,staleTime:6e4,...e}),t=n({queryKey:o.departments.all,queryFn:j,staleTime:10*6e4,...a}),u=!!(r.isLoading||t.isLoading),i=!!(r.isError||t.isError),d=r.error??t.error??null,m=async()=>{const[l,f]=await Promise.all([r.refetch(),t.refetch()]);return{subjects:l.data??[],departments:f.data??[]}};return{subjects:r.data??y,departments:t.data??p,isLoading:u,isError:i,error:d,refetch:m,subjectsQuery:r,departmentsQuery:t}}export{h as u};
