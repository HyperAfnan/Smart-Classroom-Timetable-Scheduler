import{R as e,r as i}from"./index-DgwETXXl.js";import{c as v}from"./createLucideIcon-BsWjkkVR.js";import{M as U}from"./map-pin-CzwWFxnn.js";import{U as $}from"./users-DTvBPDpn.js";import{C as V}from"./clock-DwQnfI_h.js";import{C as F}from"./calendar-_VISyFid.js";const B=({title:r="My Schedule",subtitle:t="View and manage your teaching schedule",weekLabel:s,dateRange:a,rightContent:l=null})=>e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},e.createElement("div",null,e.createElement("h1",{className:"text-3xl font-bold text-card-foreground"},r),e.createElement("p",{className:" text-muted-foreground mt-1"},t),(s||a)&&e.createElement("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-3"},s&&e.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-blue-700"},s),a&&e.createElement("span",{className:"text-xs text-gray-500 font-medium"},a))),l&&e.createElement("div",{className:"flex items-center justify-start md:justify-end"},l)),G=[{key:"week",label:"Week"},{key:"day",label:"Day"}],Y=({value:r,onChange:t,options:s=G,className:a="",disabled:l=!1})=>{const n=(o,d)=>{if(!l){if(o.key==="ArrowRight"||o.key==="ArrowLeft"){o.preventDefault();const u=o.key==="ArrowRight"?1:-1,m=(d+u+s.length)%s.length,b=s[m];b&&t(b.key)}if(o.key==="Enter"||o.key===" "){o.preventDefault();const u=s[d];u&&t(u.key)}}};return e.createElement("div",{role:"tablist","aria-label":"Schedule view mode",className:`flex bg-gray-100 rounded-lg p-1 select-none ${a}`},s.map((o,d)=>{const u=o.key===r;return e.createElement("button",{key:o.key,role:"tab",type:"button","aria-selected":u,tabIndex:u?0:-1,disabled:l,onClick:()=>!l&&t(o.key),onKeyDown:m=>n(m,d),className:["relative px-4 py-2 rounded-md text-sm font-medium transition-colors outline-none","focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-1",u?"bg-white text-card-foreground shadow-sm":" text-muted-foreground hover:text-card-foreground",l?"opacity-50 cursor-not-allowed hover: text-muted-foreground":""].join(" ")},o.label,u&&e.createElement("span",{className:"absolute inset-0 rounded-md ring-0 pointer-events-none"}))}))};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],K=v("activity",q);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],D=v("chevron-left",z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],L=v("chevron-right",J);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],X=v("rotate-ccw",Q),Z=({currentWeek:r,weekLabel:t,dateRange:s,onPrev:a,onNext:l,onToday:n,disablePrev:o=!1,disableNext:d=!1,className:u=""})=>e.createElement("div",{className:`flex items-center justify-between w-full ${u}`,role:"group","aria-label":"Week navigation"},e.createElement("div",{className:"flex items-center space-x-2"},e.createElement(x,{ariaLabel:"Previous week",onClick:a,disabled:o,icon:e.createElement(D,{className:"h-5 w-5"})}),e.createElement(x,{ariaLabel:"Next week",onClick:l,disabled:d,icon:e.createElement(L,{className:"h-5 w-5"}),className:"md:hidden"})),e.createElement("div",{className:"text-center px-2"},e.createElement("h2",{className:"text-lg font-semibold text-card-foreground select-none"},t),s&&e.createElement("p",{className:"text-sm  text-muted-foreground mt-0.5 select-none"},s)),e.createElement("div",{className:"flex items-center space-x-2"},r!==0&&e.createElement(x,{ariaLabel:"Go to current week",onClick:n,icon:e.createElement(X,{className:"h-5 w-5"}),title:"Today"}),e.createElement(x,{ariaLabel:"Previous week",onClick:a,disabled:o,icon:e.createElement(D,{className:"h-5 w-5"}),className:"hidden md:inline-flex"}),e.createElement(x,{ariaLabel:"Next week",onClick:l,disabled:d,icon:e.createElement(L,{className:"h-5 w-5"})}))),x=({ariaLabel:r,onClick:t,icon:s,disabled:a=!1,className:l="",title:n})=>e.createElement("button",{type:"button","aria-label":r,title:n||r,onClick:t,disabled:a,className:["p-2 rounded-lg border border-transparent bg-white"," text-muted-foreground hover:text-card-foreground hover:bg-gray-50","focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500","disabled:opacity-40 disabled:cursor-not-allowed","transition-colors",l].join(" ")},s),E=["Monday","Tuesday","Wednesday","Thursday","Friday"],I=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM"],ee={Monday:[{time:"9:00 AM",subject:"Calculus I",room:"Room 301",students:42,duration:1},{time:"11:00 AM",subject:"Office Hours",room:"Office 12B",students:null,duration:2},{time:"2:00 PM",subject:"Statistics",room:"Lab A",students:28,duration:1}],Tuesday:[{time:"10:00 AM",subject:"Algebra II",room:"Room 205",students:35,duration:1},{time:"2:00 PM",subject:"Calculus I",room:"Room 301",students:42,duration:1},{time:"4:00 PM",subject:"Faculty Meeting",room:"Conference Room",students:null,duration:1}],Wednesday:[{time:"9:00 AM",subject:"Statistics",room:"Lab A",students:28,duration:2},{time:"1:00 PM",subject:"Algebra II",room:"Room 205",students:35,duration:1}],Thursday:[{time:"10:00 AM",subject:"Calculus I",room:"Room 301",students:42,duration:1},{time:"11:00 AM",subject:"Office Hours",room:"Office 12B",students:null,duration:2},{time:"3:00 PM",subject:"Statistics",room:"Lab A",students:28,duration:1}],Friday:[{time:"9:00 AM",subject:"Algebra II",room:"Room 205",students:35,duration:1},{time:"11:00 AM",subject:"Calculus I",room:"Room 301",students:42,duration:1}]},T={"Office Hours":{container:"bg-blue-50 border border-blue-200 hover:shadow-sm",text:"text-blue-700"},"Faculty Meeting":{container:"bg-purple-50 border border-purple-200 hover:shadow-sm",text:"text-purple-700"},default:{container:"bg-green-50 border border-green-200 hover:shadow-sm",text:"text-green-700"}},_=r=>!r||!r.subject?T.default:T[r.subject]||T.default,te=(r=0,t="en-US",s=E)=>{const a=new Date,n=(a.getDay()+6)%7,o=new Date(a);return o.setDate(a.getDate()-n+r*7),s.map((d,u)=>{const m=new Date(o);return m.setDate(o.getDate()+u),m.toLocaleDateString(t,{month:"short",day:"numeric"})})},O=(r,t,s)=>(r?.[t]||[]).find(l=>l.time===s),re=r=>{let t=0,s=0,a=0;return Object.values(r||{}).forEach(l=>{l.forEach(n=>{typeof n.students=="number"&&n.students>0&&(t+=n.duration||1,s+=1,a+=n.students)})}),{teachingHours:t,sessionCount:s,totalStudents:a}},W=r=>Object.fromEntries(Object.entries(r||{}).map(([t,s])=>[t,s.map(a=>({...a}))])),se=({schedule:r,days:t=E,timeSlots:s=I,activeDay:a=null,onEntryClick:l,className:n="",emptyCellRenderer:o})=>{const d=i.useMemo(()=>a&&t.includes(a)?[a]:t,[a,t]),u=d.length+1;return e.createElement("div",{className:["bg-white rounded-xl shadow-sm border  border-border-200 overflow-hidden",n].join(" ")},e.createElement(ae,{visibleDays:d,dateColumnCount:u}),e.createElement("div",{role:"rowgroup",className:"divide-y divide-gray-200"},s.map(m=>e.createElement(ne,{key:m,timeSlot:m,visibleDays:d,schedule:r,onEntryClick:l,emptyCellRenderer:o}))))},ae=({visibleDays:r})=>e.createElement("div",{role:"row",className:"grid",style:{gridTemplateColumns:`160px repeat(${r.length}, 1fr)`}},e.createElement("div",{className:"p-4 bg-gray-50 border-r  border-border-200",role:"columnheader"},e.createElement("span",{className:"text-sm font-medium  text-muted-foreground"},"Time")),r.map(t=>e.createElement("div",{key:t,role:"columnheader",className:"p-4 bg-gray-50 border-r  border-border-200 last:border-r-0"},e.createElement("div",{className:"text-center"},e.createElement("p",{className:"text-sm font-medium text-card-foreground"},t))))),ne=({timeSlot:r,visibleDays:t,schedule:s,onEntryClick:a,emptyCellRenderer:l})=>e.createElement("div",{role:"row",className:"grid min-h-16",style:{gridTemplateColumns:`160px repeat(${t.length}, 1fr)`}},e.createElement("div",{role:"rowheader",className:"p-4 bg-gray-50 border-r  border-border-200 flex items-center"},e.createElement("span",{className:"text-sm font-medium  text-muted-foreground"},r)),t.map(n=>{const o=O(s,n,r);return e.createElement(oe,{key:`${n}-${r}`,day:n,timeSlot:r,entry:o,onEntryClick:a,emptyCellRenderer:l})})),oe=({day:r,timeSlot:t,entry:s,onEntryClick:a,emptyCellRenderer:l})=>{const n=()=>{s&&a&&a(s,{day:r,timeSlot:t})};if(!s)return e.createElement("div",{role:"gridcell",className:"border-r  border-border-200 last:border-r-0 p-2","data-empty":"true"},l?l({day:r,timeSlot:t}):null);const o=_(s);return e.createElement("div",{role:"gridcell",className:"border-r  border-border-200 last:border-r-0 p-2"},e.createElement("button",{type:"button",onClick:n,className:["w-full text-left p-3 rounded-lg cursor-pointer transition-shadow",o.container,"focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-1"].join(" ")},e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:`text-sm font-medium ${o.text}`},s.subject),e.createElement(P,{icon:U,text:s.room}),typeof s.students=="number"&&e.createElement(P,{icon:$,text:`${s.students} student${s.students===1?"":"s"}`}))))},P=({icon:r,text:t})=>e.createElement("div",{className:"flex items-center space-x-1 text-xs  text-muted-foreground"},e.createElement(r,{className:"h-3 w-3"}),e.createElement("span",{className:"truncate"},t)),le=({metrics:r={},loading:t=!1,className:s="",cards:a})=>{const{teachingHours:l=0,sessionCount:n=0,totalStudents:o=0}=r||{},d=n>0?Math.round(o/n):0,u=[{key:"teachingHours",label:"Weekly Hours",value:l,icon:e.createElement(V,{className:"h-6 w-6 text-blue-600"}),accentClasses:"text-blue-600",description:"Teaching hours this week"},{key:"sessions",label:"Classes",value:n,icon:e.createElement(F,{className:"h-6 w-6 text-green-600"}),accentClasses:"text-green-600",description:"Scheduled classes"},{key:"students",label:"Students",value:o,icon:e.createElement($,{className:"h-6 w-6 text-purple-600"}),accentClasses:"text-purple-600",description:"Total students taught"},{key:"avgStudents",label:"Avg / Class",value:d,icon:e.createElement(K,{className:"h-6 w-6 text-amber-600"}),accentClasses:"text-amber-600",description:"Average students per session"}],m=a&&Array.isArray(a)?a:u;return e.createElement("div",{className:["grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",s].join(" ")},m.map(b=>e.createElement(ce,{key:b.key,...b,loading:t})))},ce=({label:r,value:t,icon:s,accentClasses:a="text-blue-600",description:l,loading:n=!1})=>e.createElement("div",{className:"bg-white p-6 rounded-xl shadow-sm border  border-border-200 relative overflow-hidden"},e.createElement("div",{"aria-hidden":"true",className:"absolute -right-6 -top-6 w-24 h-24 rounded-full bg-gradient-to-br from-gray-50 to-gray-100"}),e.createElement("div",{className:"flex items-center space-x-3 mb-4 relative"},e.createElement("div",{className:"flex items-center justify-center p-2 bg-gray-50 rounded-lg"},s),e.createElement("h3",{className:"text-lg font-semibold text-card-foreground"},r)),n?e.createElement(ue,null):e.createElement(e.Fragment,null,e.createElement("p",{className:["text-3xl font-bold tracking-tight",a].join(" ")},ie(t)?"â€”":t),l&&e.createElement("p",{className:"text-sm  text-muted-foreground mt-1"},l))),ie=r=>r==null||typeof r=="number"&&isNaN(r),ue=()=>e.createElement("div",{className:"animate-pulse"},e.createElement("div",{className:"h-9 w-20 bg-gray-200 rounded-md mb-2"}),e.createElement("div",{className:"h-3 w-32 bg-gray-200 rounded"})),de=(r=ee)=>{const[t,s]=i.useState(0),[a,l]=i.useState("week"),[n,o]=i.useState(()=>W(r)),d=i.useMemo(()=>te(t,"en-US",E),[t]),u=i.useMemo(()=>re(n),[n]),m=i.useMemo(()=>{const c=[];return E.forEach(g=>{(n[g]||[]).forEach(f=>{c.push({day:g,...f,styles:_(f)})})}),c},[n]),b=i.useCallback((c,g)=>O(n,c,g),[n]),w=i.useCallback((c,g)=>!!b(c,g),[b]),N=i.useCallback(()=>s(c=>c-1),[]),y=i.useCallback(()=>s(c=>c+1),[]),C=i.useCallback(()=>s(0),[]),M=i.useCallback(c=>l(c),[]),j=i.useCallback((c,g)=>{E.includes(c)&&o(f=>({...f,[c]:[...f[c]||[],{...g}]}))},[]),A=i.useCallback((c,g,f,k)=>{E.includes(c)&&o(p=>({...p,[c]:(p[c]||[]).map(h=>h.time===g&&h.subject===f?{...h,...k}:h)}))},[]),S=i.useCallback(({day:c,time:g,subject:f,predicate:k})=>{E.includes(c)&&o(p=>({...p,[c]:(p[c]||[]).filter(h=>k?!k(h):!(h.time===g&&h.subject===f))}))},[]),R=i.useCallback(c=>{o(W(c||{}))},[]),H=i.useMemo(()=>{if(t===0)return"This Week";if(t>0)return`${t} Week${t>1?"s":""} Ahead`;const c=Math.abs(t);return`${c} Week${c>1?"s":""} Ago`},[t]);return{currentWeek:t,viewType:a,schedule:n,weekDates:d,metrics:u,flatEvents:m,weekLabel:H,getEntryAt:b,isOccupied:w,goToPreviousWeek:N,goToNextWeek:y,goToCurrentWeek:C,changeView:M,addEntry:j,updateEntry:A,removeEntry:S,replaceSchedule:R,DAYS:E,TIME_SLOTS:I}},pe=()=>{const{currentWeek:r,viewType:t,schedule:s,weekDates:a,metrics:l,weekLabel:n,goToPreviousWeek:o,goToNextWeek:d,goToCurrentWeek:u,changeView:m,DAYS:b,TIME_SLOTS:w}=de(),N=i.useMemo(()=>{if(t!=="day")return null;const A=(new Date().getDay()+6)%7;return b[A]||b[0]},[t,b]),y=i.useMemo(()=>!a||a.length===0?"":a.length===1?a[0]:`${a[0]} - ${a[a.length-1]}`,[a]),C=i.useCallback(()=>{},[]),M=i.useCallback(()=>null,[]);return e.createElement("div",{className:"space-y-6"},e.createElement(B,{weekLabel:n,dateRange:y,rightContent:e.createElement(Y,{value:t,onChange:m})}),e.createElement("div",{className:"bg-white rounded-xl shadow-sm border  border-border-200 p-4"},e.createElement(Z,{currentWeek:r,weekLabel:n,dateRange:y,onPrev:o,onNext:d,onToday:u})),e.createElement(le,{metrics:l}),e.createElement(se,{schedule:s,days:b,timeSlots:w,activeDay:N,onEntryClick:C,emptyCellRenderer:M}))};export{pe as default};
